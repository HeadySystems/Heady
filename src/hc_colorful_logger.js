/**
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘  ğŸŒˆ HEADY SYSTEMS â€” COLORFUL LOGGER                                         â•‘
 * â•‘  ğŸš€ Rainbow Console Output â€¢ Sacred Geometry â€¢ Beautiful Logs âœ¨              â•‘
 * â•‘  ğŸ¨ Phi-Based Design â€¢ Zero Defect â€¢ Fun & Colorful ğŸ¦„                      â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

// ğŸ¨ COLOR PALETTE FOR RAINBOW OUTPUT
const colors = {
  red: '\x1b[31m',
  green: '\x1b[32m',
  yellow: '\x1b[33m',
  blue: '\x1b[34m',
  magenta: '\x1b[35m',
  cyan: '\x1b[36m',
  white: '\x1b[37m',
  bright_red: '\x1b[91m',
  bright_green: '\x1b[92m',
  bright_yellow: '\x1b[93m',
  bright_blue: '\x1b[94m',
  bright_magenta: '\x1b[95m',
  bright_cyan: '\x1b[96m',
  bright_white: '\x1b[97m',
  reset: '\x1b[0m'
};

// ğŸŒˆ RAINBOW SEQUENCE FOR FUN EFFECTS
const rainbow = [
  colors.bright_red,
  colors.bright_yellow,
  colors.bright_green,
  colors.bright_cyan,
  colors.bright_blue,
  colors.bright_magenta
];

// ğŸ¦„ FUN EMOJIS FOR DIFFERENT LOG LEVELS
const emojis = {
  info: 'ğŸŒˆ',
  success: 'âœ…',
  warning: 'âš ï¸',
  error: 'âŒ',
  debug: 'ğŸ”',
  system: 'ğŸš€',
  pipeline: 'âš¡',
  resource: 'ğŸ’»',
  agent: 'ğŸ¤–',
  skill: 'ğŸ¯',
  checkpoint: 'ğŸ“',
  sacred: 'â¬¡'
};

class ColorfulLogger {
  constructor(options = {}) {
    this.enabled = options.enabled !== false;
    this.level = options.level || 'info';
    this.useRainbow = options.useRainbow !== false;
    this.useEmojis = options.useEmojis !== false;
  }

  // ğŸŒˆ RAINBOW TEXT EFFECT
  rainbow(text) {
    if (!this.useRainbow) return text;
    
    let result = '';
    let colorIndex = 0;
    
    for (let i = 0; i < text.length; i++) {
      result += rainbow[colorIndex % rainbow.length] + text[i];
      colorIndex++;
    }
    
    return result + colors.reset;
  }

  // ğŸ¨ COLORED LOG METHOD
  log(message, color = colors.white, emoji = '', prefix = '') {
    if (!this.enabled) return;
    
    const timestamp = new Date().toISOString();
    const coloredMessage = `${color}${message}${colors.reset}`;
    const emojiPart = this.useEmojis && emoji ? `${emoji} ` : '';
    const prefixPart = prefix ? `[${prefix}] ` : '';
    
    console.log(`${emojiPart}${prefixPart}${coloredMessage}`);
  }

  // ğŸŒˆ INFO LOG
  info(message, prefix = 'INFO') {
    this.log(message, colors.bright_cyan, emojis.info, prefix);
  }

  // âœ… SUCCESS LOG
  success(message, prefix = 'SUCCESS') {
    this.log(message, colors.bright_green, emojis.success, prefix);
  }

  // âš ï¸ WARNING LOG
  warning(message, prefix = 'WARNING') {
    this.log(message, colors.bright_yellow, emojis.warning, prefix);
  }

  // âŒ ERROR LOG
  error(message, prefix = 'ERROR') {
    this.log(message, colors.bright_red, emojis.error, prefix);
  }

  // ğŸ” DEBUG LOG
  debug(message, prefix = 'DEBUG') {
    if (this.level === 'debug') {
      this.log(message, colors.bright_magenta, emojis.debug, prefix);
    }
  }

  // ğŸš€ SYSTEM LOG
  system(message, prefix = 'SYSTEM') {
    this.log(message, colors.bright_blue, emojis.system, prefix);
  }

  // âš¡ PIPELINE LOG
  pipeline(message, prefix = 'PIPELINE') {
    this.log(message, colors.bright_cyan, emojis.pipeline, prefix);
  }

  // ğŸ’» RESOURCE LOG
  resource(message, prefix = 'RESOURCE') {
    this.log(message, colors.bright_green, emojis.resource, prefix);
  }

  // ğŸ¤– AGENT LOG
  agent(message, prefix = 'AGENT') {
    this.log(message, colors.bright_magenta, emojis.agent, prefix);
  }

  // ğŸ¯ SKILL LOG
  skill(message, prefix = 'SKILL') {
    this.log(message, colors.bright_yellow, emojis.skill, prefix);
  }

  // ğŸ“ CHECKPOINT LOG
  checkpoint(message, prefix = 'CHECKPOINT') {
    this.log(message, colors.bright_blue, emojis.checkpoint, prefix);
  }

  // â¬¡ SACRED GEOMETRY LOG
  sacred(message, prefix = 'SACRED') {
    this.log(message, colors.bright_cyan, emojis.sacred, prefix);
  }

  // ğŸŒˆ SPECIAL HEADING LOG
  heading(title, subtitle = '') {
    const border = 'â•'.repeat(title.length + 4);
    this.log(`â•”${border}â•—`, colors.bright_cyan);
    this.log(`â•‘  ${this.rainbow(title)}  â•‘`, colors.bright_cyan);
    if (subtitle) {
      this.log(`â•‘  ${colors.bright_white}${subtitle}${colors.reset}  â•‘`, colors.bright_cyan);
    }
    this.log(`â•š${border}â•`, colors.bright_cyan);
  }

  // ğŸ¨ FUN SEPARATOR
  separator(type = 'rainbow') {
    switch (type) {
      case 'rainbow':
        this.log('ğŸŒˆâœ¨ğŸ¦„ğŸ’«ğŸš€ğŸŒŸğŸ’ğŸ”®ğŸ¯ğŸªğŸ­ğŸ¨ğŸ’«ğŸ¦„ğŸŒˆâœ¨', colors.bright_cyan);
        break;
      case 'sacred':
        this.log('â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡ â¬¢ â¬¡', colors.bright_cyan);
        break;
      case 'phi':
        this.log('Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï† Ï†', colors.bright_cyan);
        break;
      default:
        this.log('â•'.repeat(50), colors.bright_cyan);
    }
  }

  // ğŸª FUN STARTUP MESSAGE
  startup(componentName) {
    this.heading('ğŸŒˆ HEADY SYSTEMS', `${componentName} â€¢ Sacred Geometry â€¢ Rainbow Magic âœ¨`);
    this.separator('rainbow');
    this.success(`âœ¨ ${componentName} initialized successfully! ğŸ¦„`);
    this.info(`ğŸ¨ Phi-based design activated â€¢ Zero defect mode ON ğŸš€`);
    this.separator('sacred');
  }

  // ğŸ¯ FUN SHUTDOWN MESSAGE
  shutdown(componentName) {
    this.separator('phi');
    this.info(`ğŸŒˆ ${componentName} shutting down gracefully... ğŸ’«`);
    this.success(`âœ¨ All systems preserved â€¢ Sacred geometry maintained â¬¡`);
    this.separator('rainbow');
  }
}

// ğŸŒˆ EXPORT THE COLORFUL LOGGER
module.exports = ColorfulLogger;

// ğŸ¨ CREATE DEFAULT INSTANCE
const logger = new ColorfulLogger({
  enabled: true,
  level: process.env.LOG_LEVEL || 'info',
  useRainbow: true,
  useEmojis: true
});

// ğŸš€ EXPORT DEFAULT INSTANCE
module.exports.default = logger;

// ğŸ¦„ FUN GLOBAL ACCESS (optional)
global.headyLogger = logger;
