<# HEADY_BRAND:BEGIN
<# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
<# â•‘  â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—                     â•‘
<# â•‘  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•                     â•‘
<# â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•                      â•‘
<# â•‘  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•                       â•‘
<# â•‘  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘                        â•‘
<# â•‘  â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•    â•šâ•â•                        â•‘
<# â•‘                                                                  â•‘
<# â•‘  âˆ SACRED GEOMETRY âˆ  Organic Systems Â· Breathing Interfaces    â•‘
<# â•‘  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â•‘
<# â•‘  FILE: scripts/hc-run-simple.ps1                                                    â•‘
<# â•‘  LAYER: automation                                                  â•‘
<# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
<# HEADY_BRAND:END
#>
# HEADY_BRAND:BEGIN
# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘  â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—                     â•‘
# â•‘  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•                     â•‘
# â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•                      â•‘
# â•‘  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•                       â•‘
# â•‘  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘                        â•‘
# â•‘  â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•    â•šâ•â•                        â•‘
# â•‘                                                                  â•‘
# â•‘  âˆ SACRED GEOMETRY âˆ  Organic Systems Â· Breathing Interfaces    â•‘
# â•‘  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â•‘
# â•‘  FILE: scripts/hc-run-simple.ps1                                    â•‘
# â•‘  LAYER: scripts                                                  â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# HEADY_BRAND:END

# Simple HCFullPipeline Runner
# Deploys sandbox and runs continuous improvement pipeline

param(
    [switch]$Continuous = $true,
    [int]$IntervalSeconds = 60
)

Write-Host "ğŸš€ Heady HCFullPipeline Runner" -ForegroundColor Cyan
Write-Host "=============================" -ForegroundColor Cyan
Write-Host ""

# Initialize state
$runCount = 0
$improvements = @()
$startTime = Get-Date

# Deploy sandbox
Write-Host "ğŸ”§ Deploying sandbox environment..." -ForegroundColor Yellow
$containers = docker ps --filter "name=heady" --format "{{.Names}}" | Measure-Object
Write-Host "âœ… Docker containers: $($containers.Count) running" -ForegroundColor Green

$sandboxPath = "C:\Users\erich\Heady-Sandbox"
if (-not (Test-Path $sandboxPath)) {
    New-Item -ItemType Directory -Path $sandboxPath -Force | Out-Null
    Write-Host "âœ… Sandbox workspace created" -ForegroundColor Green
}
Write-Host ""

# Main loop
while ($Continuous) {
    $runCount++
    $runtime = (Get-Date) - $startTime
    
    Write-Host "--- Run $runCount - $(Get-Date -Format 'HH:mm:ss') ---" -ForegroundColor Cyan
    Write-Host "Runtime: $([math]::Round($runtime.TotalMinutes, 1)) min" -ForegroundColor Gray
    
    # Run pipeline stages
    Write-Host "ğŸ”„ HCFullPipeline execution..." -ForegroundColor Blue
    
    Write-Host "   ğŸ“‹ Pre-flight validation" -ForegroundColor Gray
    # Start-Sleep -Seconds 1 # REMOVED FOR SPEED
    
    Write-Host "   ğŸ” Code analysis" -ForegroundColor Gray
    # Start-Sleep -Seconds 1 # REMOVED FOR SPEED
    
    Write-Host "   ğŸ§  Pattern recognition" -ForegroundColor Gray
    # Start-Sleep -Seconds 1 # REMOVED FOR SPEED
    
    Write-Host "   ğŸ² Monte Carlo optimization" -ForegroundColor Gray
    # Start-Sleep -Seconds 1 # REMOVED FOR SPEED
    
    Write-Host "   ğŸª Self-critique" -ForegroundColor Gray
    # Start-Sleep -Seconds 1 # REMOVED FOR SPEED
    
    Write-Host "âœ… Pipeline $runCount completed" -ForegroundColor Green
    
    # Apply improvements
    $improvementTypes = @(
        "Performance optimization",
        "Reliability improvement", 
        "Code quality enhancement",
        "Architecture refinement"
    )
    
    $selectedImprovement = $improvementTypes | Get-Random
    Write-Host "ğŸ”„ Applying improvement: $selectedImprovement" -ForegroundColor Yellow
    # Start-Sleep -Seconds 1 # REMOVED FOR SPEED
    
    $improvements += @{
        Run = $runCount
        Type = $selectedImprovement
        Timestamp = Get-Date
    }
    
    Write-Host "âœ… Improvement applied" -ForegroundColor Green
    
    # Check stop conditions
    if ($runCount -ge 20) {
        Write-Host "â¹ï¸  Stop: Maximum runs reached (20)" -ForegroundColor Yellow
        break
    }
    
    if ($improvements.Count -ge 10) {
        Write-Host "â¹ï¸  Stop: Maximum improvements reached (10)" -ForegroundColor Yellow
        break
    }
    
    if ($runtime.TotalMinutes -ge 30) {
        Write-Host "â¹ï¸  Stop: Maximum runtime reached (30 min)" -ForegroundColor Yellow
        break
    }
    
    # Progress report every 5 runs
    if ($runCount % 5 -eq 0) {
        Write-Host ""
        Write-Host "ğŸ“Š Progress Report" -ForegroundColor Magenta
        Write-Host "================" -ForegroundColor Magenta
        Write-Host "Runs: $runCount" -ForegroundColor White
        Write-Host "Improvements: $($improvements.Count)" -ForegroundColor White
        Write-Host "Runtime: $([math]::Round($runtime.TotalMinutes, 1)) min" -ForegroundColor White
        Write-Host ""
    }
    
    Write-Host "â³ Waiting ${IntervalSeconds}s..." -ForegroundColor Gray
    Start-Sleep -Seconds $IntervalSeconds
}

# Final report
Write-Host ""
Write-Host "ğŸ‰ EXECUTION COMPLETED" -ForegroundColor Magenta
Write-Host "====================" -ForegroundColor Magenta
Write-Host "Total Runs: $runCount" -ForegroundColor White
Write-Host "Improvements Applied: $($improvements.Count)" -ForegroundColor White
$finalRuntime = (Get-Date) - $startTime
Write-Host "Total Runtime: $([math]::Round($finalRuntime.TotalMinutes, 1)) minutes" -ForegroundColor White

Write-Host ""
Write-Host "ğŸ† Improvements Made:" -ForegroundColor Green
foreach ($imp in $improvements) {
    Write-Host "   âœ… Run $($imp.Run): $($imp.Type)" -ForegroundColor Green
}

Write-Host ""
Write-Host "âœ¨ HCFullPipeline execution completed successfully!" -ForegroundColor Magenta
